<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Mapa VR Ñuble (Radar) — Ñuble XR</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>
    body { margin:0; font-family:system-ui, Segoe UI, Roboto, Arial, sans-serif; background:#000; color:#fff }
    .hud { position:fixed; left:10px; top:10px; background:rgba(0,0,0,.55); padding:10px 12px; border-radius:10px; font-size:13px }
    .hud a { color:#7fe0ff; text-decoration:none; margin-right:8px }
  </style>

  <style>
    /* help-overlay */
    .hud .btn{display:inline-block;background:linear-gradient(135deg,#6EE7F9,#A78BFA);color:#0a1020;font-weight:800;
      padding:6px 10px;border-radius:10px;text-decoration:none;margin-left:6px}
    .helpModal{position:fixed;inset:0;background:#0009;display:none;align-items:center;justify-content:center;z-index:9999}
    .helpCard{background:#101a34;border:1px solid #223054;border-radius:14px;max-width:560px;width:92%;color:#cfe0ff;padding:16px}
    .helpCard h3{margin:0 0 8px 0}
    .helpCard ul{margin:8px 0 0 18px}
    .helpCard .row{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    .helpCard button{background:linear-gradient(135deg,#6EE7F9,#A78BFA);color:#0a1020;font-weight:800;border:none;border-radius:10px;padding:8px 12px;cursor:pointer}
  </style>

</head>
<body>
  <div class="hud">
    <strong>Proyecto 1 — Mapa VR Ñuble (Radar)</strong><br/>
    <a href="../../index.html">← Portada</a>
    <a href="ar.html">AR</a>
  
    <a class="btn" href="#" onclick="showHelp();return false;">❓ Ayuda</a>
    <a class="btn" href="#" onclick="showInfo();return false;">ℹ️ Info</a>
  </div>

  <div class="helpModal" id="helpModal"><div class="helpCard"><h3>Ayuda rápida</h3><ul><li>WASD para moverte, mouse para mirar.</li><li>Presiona el botón VR para inmersión en Quest.</li><li>Acércate y explora el relieve del terreno.</li></ul><div class="row"><button onclick="hideHelp()">Cerrar</button></div></div></div>

  <div class="helpModal" id="infoModal"><div class="helpCard"><h3>Información</h3>
  <p>Parte del portafolio Ñuble XR — Ciencia y Futuro Inclusivo (PIE &amp; PAES).</p>
  <ul>
    <li>Compatibilidad: Oculus Quest 2/3, Chrome/Edge, Android.</li>
    <li>Uso educativo: escenas interactivas VR/AR y datos satelitales.</li>
    <li>Créditos: Colaboración con Belén Acuña (PIE, Sala SEM).</li>
  </ul>
  <div class="row"><button onclick="hideInfo()">Cerrar</button></div></div></div>

  <a-scene renderer="colorManagement: true; antialias: true" background="color: #1a1a1a">
    <!-- Luces -->
    <a-entity light="type: ambient; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="1 1 0"></a-entity>

    <!-- Terreno OBJ -->
    <a-entity id="terrain"
              position="0 0 -20"
              rotation="-20 0 0"
              obj-model="obj: url(assets/terrain.obj)"
              material="src: url(assets/colormap.png); roughness:0.9; metalness:0.0">
    </a-entity>

    <!-- Suelo y cielo -->
    <a-entity geometry="primitive: circle; radius: 100" rotation="-90 0 0"
              material="color: #0c0c10; roughness:1; metalness:0"></a-entity>
    <a-sky color="#0c1016"></a-sky>

    <!-- Cámara -->
    <a-entity id="rig" position="0 6 20">
      <a-entity camera look-controls wasd-controls="acceleration:20"></a-entity>
    </a-entity>
  </a-scene>

  <script>
    function showHelp(){ document.getElementById('helpModal').style.display='flex'; }
    function hideHelp(){ document.getElementById('helpModal').style.display='none'; }
    function showInfo(){ document.getElementById('infoModal').style.display='flex'; }
    function hideInfo(){ document.getElementById('infoModal').style.display='none'; }
  </script>
</body>
</html>
