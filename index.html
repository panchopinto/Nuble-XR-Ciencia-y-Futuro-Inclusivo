<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>√ëuble XR ‚Äî Ciencia y Futuro Inclusivo (PIE & PAES)</title>
<script src="auth.js" defer></script>
<meta name="color-scheme" content="dark"/>
<style>
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:#0a1020;color:#eaf2ff;
       font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;}

  /* HEADER normal (se oculta cuando gated) */
  .appbar{position:sticky;top:0;z-index:20;
          background:linear-gradient(180deg,#0a1020ee,#0a1020cc,transparent);
          backdrop-filter:blur(8px);border-bottom:1px solid #1e2a44}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:42px;height:42px;border-radius:12px;
        background:conic-gradient(from 45deg,#6EE7F9,#A78BFA,#F472B6,#FDE68A,#6EE7F9);
        box-shadow:0 6px 20px #0007;position:relative}
  .logo::after{content:"XR";position:absolute;inset:0;display:grid;place-items:center;
               color:#0a1020;font-weight:900;font-size:14px;mix-blend-mode:screen}
  .subtitle{margin:0;color:#a9b4d0}
  .title{display:flex;align-items:baseline;gap:10px}
  .title .sup{font-size:12px;font-weight:700;color:#9db0d6;
              border:1px solid #263454;border-radius:999px;padding:3px 8px}
  .badge{background:linear-gradient(135deg,#1f2a44,#152038);
         border:1px solid #263454;border-radius:999px;
         padding:6px 12px;font-size:12px;color:#cfe0ff}

  /* Tarjetas de proyectos */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
        gap:18px;padding:20px}
  .card{background:rgba(255,255,255,0.06);border:1px solid #223054;
        border-radius:16px;overflow:hidden;box-shadow:0 10px 30px #0008;
        transition:transform .2s, box-shadow .2s;position:relative}
  .card:hover{transform:translateY(-4px);box-shadow:0 14px 40px #000a}
  .thumb{width:100%;height:160px;object-fit:cover}
  .card-body{padding:14px}
  .card h3{margin:4px 0 8px;font-size:18px}
  .card p{margin:0;color:#a9b4d0;min-height:36px}
  .actions{display:flex;align-items:center;justify-content:space-between;
           margin-top:12px;gap:10px;flex-wrap:wrap}
  .btn{display:inline-flex;align-items:center;gap:8px;
       background:linear-gradient(135deg,#8bdcff,#ffffff33);
       color:#0a1020;font-weight:800;padding:10px 14px;border-radius:12px;
       border:1px solid #ffffff88;box-shadow:inset 0 0 0 1px #0002,0 6px 16px #0009}
  .btn-ico{width:18px;height:18px;display:inline-block;vertical-align:middle;
           border-radius:4px;background:#ffffffaa}
  .btn-ico img{width:18px;height:18px;display:block;border-radius:4px}
  .tags span{display:inline-block;background:rgba(255,255,255,0.12);
             border:1px solid #2a3a60;padding:6px 10px;border-radius:999px;
             font-size:11px;color:#cfe0ff;margin-left:6px}
  .corner-badge{position:absolute;left:8px;top:8px;
                background:linear-gradient(135deg,#6EE7F9,#A78BFA);
                color:#0a1020;font-weight:800;font-size:12px;border-radius:999px;
                padding:4px 8px;box-shadow:0 6px 16px #0009}

  /* === Gate overlay estilo IMAGEN 2 === */
  #gate{position:fixed;inset:0;display:none;z-index:9999;
        align-items:center;justify-content:center;
        background:radial-gradient(1200px 800px at 20% -10%,rgba(27,37,71,.25),transparent),
                   radial-gradient(900px 700px at 100% 0%,rgba(39,24,69,.22),transparent),
                   rgba(4,8,18,.80);
        backdrop-filter:blur(6px)}
  #gate .card{
    width:min(920px,96%);
    display:grid;grid-template-columns:1.15fr .85fr;gap:24px;
    background:#0f1629;border:1px solid rgba(255,255,255,.08);
    border-radius:18px;padding:22px;
    box-shadow:0 20px 60px rgba(0,0,0,.55)
  }
  #gate .about{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.03));
               border:1px dashed rgba(255,255,255,.08);border-radius:14px;padding:16px}
  #gate .about h1{margin:6px 0 10px;font-size:38px;line-height:1.06;font-weight:900}
  #gate .about ul{margin:10px 0 0 18px;color:#a9b4d0}
  #gate .lead{margin:0 0 12px;color:#a9b4d0}
  #gate .field{display:flex;gap:10px;align-items:center;
               background:#0b1328;border:1px solid #2a3a60;border-radius:14px;
               padding:10px 12px}
  #gate .pill{font-size:12px;color:#a7b6d8;background:#263253;
              border-radius:999px;padding:4px 10px}
  #gate input{flex:1;background:transparent;border:0;outline:0;
              color:#eaf2ff;font-size:16px;padding:6px}
  #gate .row{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:14px}
  #gate .hint{font-size:12px;color:#9db0d6}
  #gate .cta{display:inline-flex;align-items:center;gap:.6rem;
             background:linear-gradient(90deg,#5cc6ff,#7b5cff);
             color:#0b0f1a;font-weight:800;border:0;border-radius:14px;
             padding:12px 18px;cursor:pointer;
             box-shadow:0 10px 24px rgba(123,92,255,.35)}
  #gate .ico{width:22px;height:22px;border-radius:6px;background:#ffffffaa;
             display:inline-flex;align-items:center;justify-content:center}
  body.gated .appbar{display:none!important}
  body.gated main,body.gated .wrap{filter:blur(3px);pointer-events:none;user-select:none}
</style>
</head>
<body>

<header class="appbar">
  <div class="wrap">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1 class="title"><span>√ëuble XR</span> <span class="sup">PIE &amp; PAES</span></h1>
        <p class="subtitle">Ciencia y Futuro Inclusivo ‚Äî 10 proyectos VR/AR/3D</p>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:8px;margin-top:10px">
      <div class="badge">WebXR</div>
      <div class="badge">10 proyectos</div>
      <div class="badge">Inclusivo</div>
    </div>
  </div>
</header>

<main class="wrap">
  <section id="proyectos" class="grid"></section>
</main>

<!-- === GATE overlay === -->
<div id="gate">
  <div class="card">
    <div class="about">
      <span class="pill">Innovaci√≥n Educativa</span>
      <h1>Acceso privado</h1>
      <p class="lead">Ingresa tu correo autorizado y el c√≥digo.</p>
      <ul>
        <li>Protecci√≥n con correo + clave.</li>
        <li>Dise√±o oscuro con gradiente.</li>
        <li>Una sola puerta a todos los proyectos.</li>
      </ul>
    </div>
    <div>
      <h2>Ingresa</h2>
      <div class="field" style="margin-bottom:10px">
        <span class="pill">Correo</span>
        <input id="gate-email" type="email" placeholder="correo@liceosannicolas.cl" required>
      </div>
      <div class="field" style="margin-bottom:14px">
        <span class="pill">Clave</span>
        <input id="gate-code" type="password" placeholder="********" required>
      </div>
      <div class="row">
        <span class="hint">Solo usuarios autorizados</span>
        <button class="cta" onclick="Gate.submit()"><span class="ico">‚ñ∂</span> Entrar</button>
      </div>
    </div>
  </div>
</div>

<script>
const cards = [
  ["nuble-mapa-radar-vr","1. Mapa VR √ëuble (Radar)","PIE: contrastes radar ‚Üî visi√≥n; PAES: lectura de capas."],
  ["nuble-inundaciones-vr","2. Inundaciones y crecidas","PIE: iconos grandes; PAES: interpretaci√≥n de inundaci√≥n."],
  ["nuble-incendios-vr","3. Incendios y recuperaci√≥n","PIE: paleta accesible; PAES: severidad y recuperaci√≥n."],
  ["nuble-cambio-uso-vr","4. Cambio de uso de suelo","PIE: cambio ON/OFF; PAES: an√°lisis temporal ŒîdB."],
  ["nuble-costas-humedales-vr","5. Costas y humedales","PIE: texto claro; PAES: din√°mica de playa y humedales."],
  ["nuble-insar-vr","6. InSAR deformaci√≥n s√≠smica","PIE: leyendas simples; PAES: franjas y desplazamientos."],
  ["nuble-maritimo-vr-ar","7. Tr√°fico mar√≠timo / Acuicultura","PIE: AR colaborativa; PAES: detecci√≥n (CFAR)."],
  ["andes-glaciares-vr-ar","8. Glaciares e h√≠drica","PIE: leyenda de cambio; PAES: hipsometr√≠a ‚Üî agua."],
  ["nuble-energia-riesgos-vr-ar","9. Energ√≠a y riesgos","PIE: categor√≠as n√≠tidas; PAES: riesgo/energ√≠a."],
  ["nuble-agri-inteligente-vr-ar","10. Agricultura inteligente","PIE: anomal√≠a; PAES: priorizaci√≥n de riego."]
];
const grid=document.querySelector('#proyectos');
grid.innerHTML=cards.map(([slug,title,note])=>`
  <article class="card">
    <div class="corner-badge">XR</div>
    <img class="thumb" src="thumbs/icons/${slug}.svg" alt="${title}"/>
    <div class="card-body">
      <h3>${title}</h3>
      <p>${note}</p>
      <div class="actions">
        <a class="btn" data-proj-folder="${slug}" href="#">
          <span class="btn-ico"><img src="thumbs/icons/${slug}.svg" alt="icono ${title}"/></span>
          <span>Ir al proyecto</span>
        </a>
        <a class="btn" href="#" onclick="alert('Abre el proyecto y presiona üß© Actividad o üß† Trivia.');return false;">‚ùì Ayuda</a>
        <span class="tags"><span>VR</span><span>AR</span><span>3D</span></span>
      </div>
    </div>
  </article>
`).join('');

document.addEventListener('DOMContentLoaded',()=>{
  const ok=localStorage.getItem('nxr_auth')==='1';
  const g=document.getElementById('gate');
  if(!ok){document.body.classList.add('gated');g.style.display='flex';}
  else{g.style.display='none';}
});
</script>

<footer class="footer">
  <div class="wrap">Portafolio unificado √ëuble XR ¬∑ Proyecto colaborativo con Bel√©n Acu√±a ‚Äî Sala SEM (15 Quest 2, 2 HTC VR, pantalla t√°ctil)</div>
</footer>
</body>
</html>
